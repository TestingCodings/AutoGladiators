<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="AutoGladiators.Client.Pages.VictoryPage"
             Title="Victory!"
             BackgroundColor="#1a4c2b">

    <Grid Padding="20" VerticalOptions="Center">
        <Border BackgroundColor="White"
                StrokeThickness="3"
                Stroke="#ffd700"
                StrokeShape="RoundRectangle 20"
                Padding="30"
                VerticalOptions="Center">
            
            <VerticalStackLayout Spacing="20" HorizontalOptions="Center">
                
                <!-- Victory Header -->
                <Label Text="ðŸ† VICTORY! ðŸ†"
                       FontSize="32"
                       FontAttributes="Bold"
                       TextColor="#1a4c2b"
                       HorizontalOptions="Center" />
                
                <!-- Enemy Defeated -->
                <Label Text="{Binding EnemyDefeatedText}"
                       FontSize="20"
                       TextColor="#333"
                       HorizontalOptions="Center" />
                
                <BoxView HeightRequest="2" BackgroundColor="#ddd" Margin="0,10" />
                
                <!-- Rewards Section -->
                <Label Text="Rewards Earned:"
                       FontSize="18"
                       FontAttributes="Bold"
                       TextColor="#1a4c2b"
                       HorizontalOptions="Center" />
                
                <!-- XP Reward -->
                <StackLayout Orientation="Horizontal" HorizontalOptions="Center" Spacing="10">
                    <Label Text="â­" FontSize="24" VerticalOptions="Center" />
                    <Label Text="{Binding XpRewardText}"
                           FontSize="16"
                           TextColor="#333"
                           VerticalOptions="Center" />
                </StackLayout>
                
                <!-- Gold Reward -->
                <StackLayout Orientation="Horizontal" HorizontalOptions="Center" Spacing="10">
                    <Label Text="ðŸ’°" FontSize="24" VerticalOptions="Center" />
                    <Label Text="{Binding GoldRewardText}"
                           FontSize="16"
                           TextColor="#333"
                           VerticalOptions="Center" />
                </StackLayout>

                <!-- Level Up Section -->
                <StackLayout IsVisible="{Binding HasLeveledUp}" Spacing="10">
                    <BoxView HeightRequest="2" BackgroundColor="#ffd700" Margin="0,10" />
                    
                    <Label Text="{Binding LevelUpText}"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="#1a4c2b"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center" />
                    
                    <Label Text="{Binding StatGrowthText}"
                           FontSize="14"
                           TextColor="#666"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center" />
                </StackLayout>

                <!-- New Items Section -->
                <StackLayout IsVisible="{Binding HasNewItems}" Spacing="5">
                    <BoxView HeightRequest="2" BackgroundColor="#87ceeb" Margin="0,10" />
                    
                    <Label Text="ðŸŽ New Items Found! ðŸŽ"
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="#1a4c2b"
                           HorizontalOptions="Center" />
                    
                    <CollectionView ItemsSource="{Binding NewItems}" 
                                    VerticalOptions="Start"
                                    HeightRequest="100">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Label Text="{Binding .}"
                                       FontSize="12"
                                       TextColor="#666"
                                       HorizontalOptions="Center"
                                       Margin="5,2" />
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </StackLayout>
                
                <BoxView HeightRequest="2" BackgroundColor="#ddd" Margin="0,10" />
                
                <!-- Continue Button -->
                <Button Text="Continue Adventure"
                        BackgroundColor="#1a4c2b"
                        TextColor="White"
                        FontSize="18"
                        FontAttributes="Bold"
                        Padding="20,10"
                        CornerRadius="10"
                        HorizontalOptions="Center"
                        Command="{Binding ContinueCommand}" />
                
            </VerticalStackLayout>
        </Border>
    </Grid>
</ContentPage>